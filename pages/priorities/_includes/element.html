{% assign element = include.element %}

{% assign element_done_classes = "element-done" | split: "," %}
{% if element.done != "" %}
	{% assign element_done_classes = element_done_classes | push: "is-done" %}
{% endif %}
{% assign element_done_class = element_done_classes | join: " " %}

{% assign element_last_updated_classes = "element-last-updated" | split: "," %}
{% if element.last_updated != "" %}
	{% assign one_month = 60 | times: 60 | times: 24 | times: 30 %}
	{% assign now = "now" | date: "%s" | plus: 0 %}
	{% assign one_month_ago = now | minus: one_month %}
	{% assign last_updated = element.last_updated | date: "%s" | plus: 0 %}
	{% if last_updated > one_month_ago %}
		{% assign element_last_updated_classes = element_last_updated_classes | push: "recent" %}
	{% endif %}
{% endif %}
{% assign element_last_updated_class = element_last_updated_classes | join: " " %}

<div id="{{ element.anchor }}" class="element">
	<div class="element-meta">
		<div class="{{ element_done_class }}"></div>
		<div class="{{ element_last_updated_class }}">
			<div class="label">
				<span class="last-updated">Last updated</span>
				<span class="recently-updated">Recently updated!</span>
			</div>
			<div class="value">
				<time datetime="{{ element.last_updated }}">{{ element.last_updated }}</time>
			</div>
		</div>
	</div>
	<details class="element-main">
		<summary class="element-title">
			<a class="element-title-anchor" href="#{{ element.anchor }}">
				<span class="material-symbols-outlined">link</span>
			</a>
			<div class="element-title-text">{{ element.title | markdownify }}</div>
			<div class="element-accordion-toggle">
				<span class="material-symbols-outlined more">unfold_more</span>
				<span class="material-symbols-outlined less">unfold_less</span>
			</div>
		</summary>
		<div class="element-content">
			<div class="element-description">{{ element.description | markdownify }}</div>
			<div class="element-details">{{ element.details | markdownify }}</div>
		</div>
	</details>
</div>
